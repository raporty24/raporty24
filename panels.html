<section class="container mx-auto px-4 my-16">
  <!-- PANEL: OPTYMALIZACJA -->
  <template x-if="panel==='optimization'">
    <div>
      <!-- Animowane loga technologii -->
      <div class="flex justify-center mb-8">
        <div class="relative w-32 h-32 animate-spin-slow">
          <div
            class="absolute inset-0 rounded-full border-2 border-gray-300"
          ></div>
          <template
            x-for="logo, idx in ['excel.svg','PowerBI_scalable.svg','Python-logo-generic.svg','Pandas_logo.svg']"
            :key="idx"
          >
            <img
              :src="`/${logo}`"
              class="absolute w-8 h-8 top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 rotate-[calc(90deg*idx)] origin-[0_50%]"
              alt="logo"
            />
          </template>
        </div>
      </div>

      <div
        class="bg-gradient-to-br from-gray-100 to-gray-200 p-8 rounded-2xl shadow-xl transform transition duration-300 hover:shadow-2xl"
      >
        <h2
          class="text-4xl font-bold mb-6 text-gray-800 tracking-wide text-center"
        >
          Optymalizacja i analiza procesów w Excelu dla MŚP
        </h2>
        <p class="text-gray-700 mb-8 text-lg leading-relaxed text-center">
          Kompleksowa
          <span class="font-semibold">optymalizacja Excel dla MŚP</span>,
          <span class="font-semibold">dashboard KPI</span>,
          <span class="font-semibold">automatyzacja VBA</span> i
          <span class="font-semibold">konsolidacja Power Query</span> – szybkie
          wdrożenie, widoczne efekty, konkurencyjne ceny.
        </p>

        <!-- Zakres działań z ikonami -->
        <ul class="grid grid-cols-1 sm:grid-cols-2 gap-6 mb-12 text-gray-800">
          <li class="flex items-start">
            <i class="fas fa-search-dollar text-green-500 text-2xl mr-3"></i>
            <span>Audyt skoroszytów – wykrywanie błędów i wąskich gardeł</span>
          </li>
          <li class="flex items-start">
            <i class="fas fa-chart-bar text-blue-500 text-2xl mr-3"></i>
            <span>Interaktywne dashboardy i KPI w Excelu</span>
          </li>
          <!-- pozostałe -->
        </ul>

        <!-- Case Studies: 2 na raz z mini-grafikami -->
        <div
          x-data="{
            current:0,
            items:[
              {title:'Ręczne wprowadzanie danych',icon:'fas fa-file-alt',img:'excel.svg',problem:'Przepisywanie dwustronicowe...',solution:'Formularz...',result:'Błędy 0%.'},
              {title:'Klinika skoroszytów',icon:'fas fa-clinic-medical',img:'PowerBI_scalable.svg',problem:'Wolne...',solution:'Makro...',result:'+70% prędkości.'},
              {title:'Daty jako tekst',icon:'fas fa-calendar',img:'Python-logo-generic.svg',problem:'Niegrupowanie...',solution:'Makro...',result:'Analiza w sekundę.'},
              {title:'Brak walidacji danych',icon:'fas fa-shield-alt',img:'Pandas_logo.svg',problem:'Formaty...',solution:'Walidacja...',result:'+100% wiarygodności.'}
            ],
            prev(){ this.current = this.current? this.current-2: this.items.length-2 },
            next(){ this.current = this.current < this.items.length-2? this.current+2: 0 }
          }"
          class="relative mb-10"
        >
          <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
            <template x-for="i in [current,(current+1)%items.length]" :key="i">
              <div
                class="bg-white p-6 rounded-lg shadow-md transition hover:shadow-xl"
              >
                <img
                  :src="`/${items[i].img}`"
                  class="w-12 h-12 mb-4 mx-auto"
                  alt="case"
                />
                <div class="flex items-center justify-center mb-3">
                  <i :class="items[i].icon+' text-green-500 mr-2'"></i>
                  <h3
                    class="text-lg font-semibold"
                    x-text="items[i].title"
                  ></h3>
                </div>
                <hr class="mb-3 border-gray-200" />
                <p class="mb-2">
                  <strong>Problem:</strong>
                  <span x-text="items[i].problem"></span>
                </p>
                <p class="mb-2">
                  <strong>Rozwiązanie:</strong>
                  <span x-text="items[i].solution"></span>
                </p>
                <p class="font-bold text-green-600">
                  <strong>Rezultat:</strong>
                  <span x-text="items[i].result"></span>
                </p>
              </div>
            </template>
          </div>
          <button
            @click="prev()"
            class="absolute left-0 top-1/2 transform -translate-y-1/2 bg-white p-2 rounded-full shadow hover:bg-gray-200"
          >
            ←
          </button>
          <button
            @click="next()"
            class="absolute right-0 top-1/2 transform -translate-y-1/2 bg-white p-2 rounded-full shadow hover:bg-gray-200"
          >
            →
          </button>
        </div>

        <!-- Cennik -->
        <div class="grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-4 gap-6 mb-8">
          <!-- karty cenowe -->
        </div>

        <!-- CTA -->
        <div class="text-center">
          <a
            href="#kontakt"
            class="inline-block bg-gray-800 text-white py-3 px-8 rounded-full font-semibold hover:bg-gray-900 transition"
          >
            Umów bezpłatną konsultację
          </a>
        </div>
      </div>
    </div>
  </template>
</section>
